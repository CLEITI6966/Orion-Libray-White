-- FluentUI.lua
-- Biblioteca de interface do usuário para Roblox

local FluentUI = {}
FluentUI.__index = FluentUI

-- Definindo o tema da UI
FluentUI.Theme = {
    BackgroundColor = Color3.fromRGB(30, 30, 30),
    TextColor = Color3.fromRGB(255, 255, 255),
    ButtonColor = Color3.fromRGB(50, 50, 50),
    ButtonHoverColor = Color3.fromRGB(70, 70, 70),
    WindowColor = Color3.fromRGB(40, 40, 40),
    DropdownColor = Color3.fromRGB(50, 50, 50),
    SliderColor = Color3.fromRGB(100, 100, 100),
}

-- Função para criar uma nova instância de FluentUI
function FluentUI.new()
    local self = setmetatable({}, FluentUI)
    self.windows = {}
    return self
end

-- Função para criar uma nova janela
function FluentUI:createWindow(title)
    local window = Instance.new("Frame")
    window.Size = UDim2.new(0.5, 0, 0.5, 0)
    window.Position = UDim2.new(0.25, 0, 0.25, 0)
    window.BackgroundColor3 = self.Theme.WindowColor
    window.BorderSizePixel = 0
    window.Parent = game.Players.LocalPlayer.PlayerGui:WaitForChild("ScreenGui")

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 50)
    titleLabel.Text = title or "Window"
    titleLabel.BackgroundColor3 = self.Theme.ButtonColor
    titleLabel.TextColor3 = self.Theme.TextColor
    titleLabel.Font = Enum.Font.Gotham
    titleLabel.TextSize = 24
    titleLabel.Parent = window

    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -35, 0, 10)
    closeButton.Text = "X"
    closeButton.BackgroundColor3 = self.Theme.ButtonColor
    closeButton.TextColor3 = self.Theme.TextColor
    closeButton.Parent = window

    closeButton.MouseButton1Click:Connect(function()
        window:Destroy()
    end)

    table.insert(self.windows, window)
    return window
end

-- Função para criar um botão
function FluentUI:createButton(parent, text, size, position, callback)
    local button = Instance.new("TextButton")
    button.Size = size or UDim2.new(0, 100, 0, 50)
    button.Position = position or UDim2.new(0, 0, 0, 0)
    button.Text = text or "Button"
    button.BackgroundColor3 = self.Theme.ButtonColor
    button.TextColor3 = self.Theme.TextColor
    button.Font = Enum.Font.Gotham
    button.TextSize = 18
    button.Parent = parent

    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = self.Theme.ButtonHoverColor
    end)

    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = self.Theme.ButtonColor
    end)

    button.MouseButton1Click:Connect(function()
        if callback then
            callback()
        end
    end)

    return button
end

-- Função para criar um rótulo (label)
function FluentUI:createLabel(parent, text, size, position)
    local label = Instance.new("TextLabel")
    label.Size = size or UDim2.new(0, 200, 0, 50)
    label.Position = position or UDim2.new(0, 0, 0, 0)
    label.Text = text or "Label"
    label.BackgroundColor3 = self.Theme.BackgroundColor
    label.TextColor3 = self.Theme.TextColor
    label.Font = Enum.Font.Gotham
    label.TextSize = 18
    label.Parent = parent
    return label
end

-- Função para criar um dropdown
function FluentUI:createDropdown(parent, options, size, position, callback)
    local dropdown = Instance.new("Frame")
    dropdown.Size = size or UDim2.new(0, 200, 0, 50)
    dropdown.Position = position or UDim2.new(0, 0, 0, 0)
    dropdown.BackgroundColor3 = self.Theme.DropdownColor
    dropdown.Parent = parent

    local dropdownButton = Instance.new("TextButton")
    dropdownButton.Size = UDim2.new(1, 0, 0, 50)
    dropdownButton.Text = "Select an option"
    dropdownButton.BackgroundColor3 = self.Theme.ButtonColor
    dropdownButton.TextColor3 = self.Theme.TextColor
    dropdownButton.Font = Enum.Font.Gotham
    dropdownButton.TextSize = 18
    dropdownButton.Parent = dropdown

    local optionsFrame = Instance.new("Frame")
    optionsFrame.Size = UDim2.new(1, 0, 0, 0)
    optionsFrame.BackgroundColor3 = self.Theme.DropdownColor
    optionsFrame.Position = UDim2.new(0, 0, 1, 0)
    optionsFrame.Visible = false
    optionsFrame.Parent = dropdown

    for _, option in ipairs(options) do
        local optionButton = Instance.new("TextButton")
        optionButton.Size = UDim2.new(1, 0, 0, 30)
        optionButton.Text = option
        optionButton.BackgroundColor3 = self.Theme.DropdownColor
        optionButton.TextColor3 = self.Theme.TextColor
        optionButton.Font = Enum.Font.Gotham
        optionButton.TextSize = 18
        optionButton.Parent = optionsFrame

        optionButton.MouseButton1Click:Connect(function()
            dropdownButton.Text = option
            optionsFrame.Visible = false
            if callback then
                callback(option)
            end
        end)
    end

    dropdownButton.MouseButton1Click:Connect(function()
        optionsFrame.Visible = not optionsFrame.Visible
    end)

    return dropdown
end

-- Função para criar um slider
function FluentUI:createSlider(parent, min, max, default, size, position, callback)
    local sliderFrame = Instance.new("Frame")
    sliderFrame.Size = size or UDim2.new(0, 200, 0, 50)
    sliderFrame.Position = position or UDim2.new(0, 0, 0, 0)
    sliderFrame.BackgroundColor3 = self.Theme.BackgroundColor
    sliderFrame.Parent = parent

    local sliderButton = Instance.new("TextButton")
    sliderButton.Size = UDim2.new(1, 0, 0, 20)
    sliderButton.Position = UDim2.new(0, 0, 0.5, -10)
    sliderButton.BackgroundColor3 = self.Theme.SliderColor
    sliderButton.Parent = sliderFrame

    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(1, 0, 0, 20)
    valueLabel.Position = UDim2.new(0, 0, 0, 30)
    valueLabel.Text = tostring(default)
    valueLabel.BackgroundColor3 = self.Theme.BackgroundColor
    valueLabel.TextColor3 = self.Theme.TextColor
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.TextSize = 18
    valueLabel.Parent = sliderFrame

    local function updateSlider(value)
        sliderButton.Position = UDim2.new((value - min) / (max - min), 0, 0.5, -10)
        valueLabel.Text = tostring(value)
        if callback then
            callback(value)
        end
    end

    sliderButton.MouseButton1Down:Connect(function()
        local mouse = game.Players.LocalPlayer:GetMouse()
        updateSlider(math.clamp(math.round(((mouse.X - sliderFrame.AbsolutePosition.X) / sliderFrame.Size.X.Offset) * (max - min) + min), min, max))

        local function onDrag()
            local newValue = math.clamp(math.round(((mouse.X - sliderFrame.AbsolutePosition.X) / sliderFrame.Size.X.Offset) * (max - min) + min), min, max)
            updateSlider(newValue)
        end

        game:GetService("UserInputService").InputChanged:Connect(onDrag)

        game:GetService("UserInputService").InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                game:GetService("UserInputService").InputChanged:Disconnect(onDrag)
            end
        end)
    end)

    return sliderFrame
end

-- Função para criar uma mensagem de alerta
function FluentUI:alert(message)
    local player = game.Players.LocalPlayer
    local gui = Instance.new("ScreenGui", player.PlayerGui)
    local alertFrame = Instance.new("Frame", gui)
    alertFrame.Size = UDim2.new(0.4, 0, 0.3, 0)
    alertFrame.Position = UDim2.new(0.3, 0, 0.35, 0)
    alertFrame.BackgroundColor3 = self.Theme.WindowColor
    alertFrame.BorderSizePixel = 0

    local alertLabel = Instance.new("TextLabel", alertFrame)
    alertLabel.Size = UDim2.new(1, 0, 0.7, 0)
    alertLabel.Text = message
    alertLabel.BackgroundColor3 = self.Theme.BackgroundColor
    alertLabel.TextColor3 = self.Theme.TextColor
    alertLabel.Font = Enum.Font.Gotham
    alertLabel.TextSize = 24

    local closeButton = Instance.new("TextButton", alertFrame)
    closeButton.Size = UDim2.new(0.4, 0, 0.3, 0)
    closeButton.Position = UDim2.new(0.3, 0, 0.8, 0)
    closeButton.Text = "Close"
    closeButton.BackgroundColor3 = self.Theme.ButtonColor
    closeButton.TextColor3 = self.Theme.TextColor
    closeButton.Font = Enum.Font.Gotham
    closeButton.TextSize = 18

    closeButton.MouseButton1Click:Connect(function()
        gui:Destroy()
    end)
end

-- Função de exemplo de uso da biblioteca
function FluentUI:exampleUsage()
    local window = self:createWindow("My Fluent UI Example")

    self:createLabel(window, "Welcome to Fluent UI!", UDim2.new(1, 0, 0, 50), UDim2.new(0, 0, 0, 50))

    self:createButton(window, "Show Alert", UDim2.new(0.3, 0, 0, 50), UDim2.new(0.1, 0, 0, 100), function()
        self:alert("This is an alert message!")
    end)

    self:createDropdown(window, {"Option 1", "Option 2", "Option 3"}, UDim2.new(0.3, 0, 0, 50), UDim2.new(0.1, 0, 0, 150), function(selected)
        print("You selected: " .. selected)
    end)

    self:createSlider(window, 0, 100, 50, UDim2.new(0.5, 0, 0, 50), UDim2.new(0.1, 0, 0, 250), function(value)
        print("Slider value: " .. value)
    end)
end

return FluentUI
